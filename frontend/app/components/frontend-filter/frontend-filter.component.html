<div class="filter-card" [formGroup]="filterForm">
  <h2>S√©lectionnez vos crit√®res de filtrage</h2>

  <!-- üß© Nom du filtre -->
  <pnx-input
    label="Nom du filtre"
    placeholder="Nom du filtre"
    [parentFormControl]="filterForm.controls.name">
  </pnx-input>

  <!-- üìã Champs √† extraire -->
  <pnx-select
    label="Champs √† extraire"
    [parentFormControl]="filterForm.controls.fields"
    [options]="availableFields"
    [multiSelect]="true"
    [searchBar]="true">
  </pnx-select>

  <!-- üìÜ P√©riode -->
  <div class="period-row">
    <pnx-input
      label="Date de d√©but"
      type="date"
      [parentFormControl]="filterForm.controls.startDate">
    </pnx-input>

    <pnx-input
      label="Date de fin"
      type="date"
      [parentFormControl]="filterForm.controls.endDate">
    </pnx-input>
  </div>

  <div *ngIf="dateRangeInvalid" class="error-msg">
    Entrez une p√©riode valide
  </div>

  <!-- ‚úÖ Actions -->
  <div class="filter-actions">
    <button
      mat-raised-button
      class="button-success"
      [disabled]="filterForm.invalid || dateRangeInvalid"
      (click)="applyFilter()">
      <mat-icon>check_circle</mat-icon>
      Valider
    </button>

    <button
      mat-raised-button
      color="warn"
      (click)="close.emit()">
      <mat-icon>close</mat-icon>
      Fermer
    </button>
  </div>
</div>
